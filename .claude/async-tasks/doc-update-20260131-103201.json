{
  "type": "doc-update",
  "created_at": "2026-01-31T10:32:01.837200+00:00",
  "status": "pending",
  "commit_message": "feat(skill): replace prompt-engineering-patterns with context engineering skill\n\nReplace 2,680-line / 9-file textbook-style prompt engineering skill with\na 165-line context engineering skill. Based on /heavy analysis (5 Opus agents).\n\nWhat was deleted (8 files):\n- 5 reference files (CoT, few-shot, templates, system prompts, optimization)\n- 1 Python script (non-executable A/B testing with MockLLMClient)\n- 2 asset files (generic templates, trivial examples)\n\nWhat replaced it (1 file, 165 lines):\n- Four Buckets framework applied to prompt/skill design\n- The Deletion Test (4-question bloat elimination)\n- Operational checklist for writing skills and prompts\n- Anti-patterns table (8 specific patterns with wrong/right examples)\n- Compression patterns (tables over prose, constraints over guidance)\n- Context failure diagnosis (symptom -> bucket failure -> fix)\n- Multi-agent isolation patterns\n- Living references to exemplary skills (/go, /heavy, /compound)\n\nNet: 168 insertions, 2,678 deletions. 96% token reduction.\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>",
  "diff_content": "commit fb5cf5796d31a108accb09586170d964155e52dd\nAuthor: olivier-motium <243932812+olivier-motium@users.noreply.github.com>\nDate:   Sat Jan 31 11:32:01 2026 +0100\n\n    feat(skill): replace prompt-engineering-patterns with context engineering skill\n    \n    Replace 2,680-line / 9-file textbook-style prompt engineering skill with\n    a 165-line context engineering skill. Based on /heavy analysis (5 Opus agents).\n    \n    What was deleted (8 files):\n    - 5 reference files (CoT, few-shot, templates, system prompts, optimization)\n    - 1 Python script (non-executable A/B testing with MockLLMClient)\n    - 2 asset files (generic templates, trivial examples)\n    \n    What replaced it (1 file, 165 lines):\n    - Four Buckets framework applied to prompt/skill design\n    - The Deletion Test (4-question bloat elimination)\n    - Operational checklist for writing skills and prompts\n    - Anti-patterns table (8 specific patterns with wrong/right examples)\n    - Compression patterns (tables over prose, constraints over guidance)\n    - Context failure diagnosis (symptom -> bucket failure -> fix)\n    - Multi-agent isolation patterns\n    - Living references to exemplary skills (/go, /heavy, /compound)\n    \n    Net: 168 insertions, 2,678 deletions. 96% token reduction.\n    \n    Co-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\n---\n config/skills/prompt-engineering-patterns/SKILL.md | 358 +++++++---------\n .../assets/few-shot-examples.json                  | 106 -----\n .../assets/prompt-template-library.md              | 246 -----------\n .../references/chain-of-thought.md                 | 399 -----------------\n .../references/few-shot-learning.md                | 369 ----------------\n .../references/prompt-optimization.md              | 414 ------------------\n .../references/prompt-templates.md                 | 470 ---------------------\n .../references/system-prompts.md                   | 189 ---------\n .../scripts/optimize-prompt.py                     | 279 ------------\n docs/concepts/skills.md                            |  14 +-\n docs/index.md                                      |   2 +-\n 11 files changed, 168 insertions(+), 2678 deletions(-)\n\ndiff --git a/config/skills/prompt-engineering-patterns/SKILL.md b/config/skills/prompt-engineering-patterns/SKILL.md\nindex cf81eb1..e5d513e 100644\n--- a/config/skills/prompt-engineering-patterns/SKILL.md\n+++ b/config/skills/prompt-engineering-patterns/SKILL.md\n@@ -1,201 +1,165 @@\n ---\n name: prompt-engineering-patterns\n-description: Master advanced prompt engineering techniques to maximize LLM performance, reliability, and controllability in production. Use when optimizing prompts, improving LLM outputs, or designing production prompt templates.\n+description: Design prompts, skills, and CLAUDE.md files as context engineering problems. Use when writing skills, optimizing prompts, designing agent workflows, auditing CLAUDE.md, or reducing prompt bloat. Triggers on \"prompt engineering\", \"optimize prompt\", \"write a skill\", \"reduce bloat\", \"context engineering\".\n ---\n \n-# Prompt Engineering Patterns\n-\n-Master advanced prompt engineering techniques to maximize LLM performance, reliability, and controllability.\n-\n-## When to Use This Skill\n-\n-- Designing complex prompts for production LLM applications\n-- Optimizing prompt performance and consistency\n-- Implementing structured reasoning patterns (chain-of-thought, tree-of-thought)\n-- Building few-shot learning systems with dynamic example selection\n-- Creating reusable prompt templates with variable interpolation\n-- Debugging and refining prompts that produce inconsistent outputs\n-- Implementing system prompts for specialized AI assistants\n-\n-## Core Capabilities\n-\n-### 1. Few-Shot Learning\n-- Example selection strategies (semantic similarity, diversity sampling)\n-- Balancing example count with context window constraints\n-- Constructing effective demonstrations with input-output pairs\n-- Dynamic example retrieval from knowledge bases\n-- Handling edge cases through strategic example selection\n-\n-### 2. Chain-of-Thought Prompting\n-- Step-by-step reasoning elicitation\n-- Zero-shot CoT with \"Let's think step by step\"\n-- Few-shot CoT with reasoning traces\n-- Self-consistency techniques (sampling multiple reasoning paths)\n-- Verification and validation steps\n-\n-### 3. Prompt Optimization\n-- Iterative refinement workflows\n-- A/B testing prompt variations\n-- Measuring prompt performance metrics (accuracy, consistency, latency)\n-- Reducing token usage while maintaining quality\n-- Handling edge cases and failure modes\n-\n-### 4. Template Systems\n-- Variable interpolation and formatting\n-- Conditional prompt sections\n-- Multi-turn conversation templates\n-- Role-based prompt composition\n-- Modular prompt components\n-\n-### 5. System Prompt Design\n-- Setting model behavior and constraints\n-- Defining output formats and structure\n-- Establishing role and expertise\n-- Safety guidelines and content policies\n-- Context setting and background information\n-\n-## Quick Start\n-\n-```python\n-from prompt_optimizer import PromptTemplate, FewShotSelector\n-\n-# Define a structured prompt template\n-template = PromptTemplate(\n-    system=\"You are an expert SQL developer. Generate efficient, secure SQL queries.\",\n-    instruction=\"Convert the following natural language query to SQL:\\n{query}\",\n-    few_shot_examples=True,\n-    output_format=\"SQL code block with explanatory comments\"\n-)\n-\n-# Configure few-shot learning\n-selector = FewShotSelector(\n-    examples_db=\"sql_examples.jsonl\",\n-    selection_strategy=\"semantic_similarity\",\n-    max_examples=3\n-)\n-\n-# Generate optimized prompt\n-prompt = template.render(\n-    query=\"Find all users who registered in the last 30 days\",\n-    examples=selector.select(query=\"user registration date filter\")\n-)\n-```\n-\n-## Key Patterns\n-\n-### Progressive Disclosure\n-Start with simple prompts, add complexity only when needed:\n-\n-1. **Level 1**: Direct instruction\n-   - \"Summarize this article\"\n-\n-2. **Level 2**: Add constraints\n-   - \"Summarize this article in 3 bullet points, focusing on key findings\"\n-\n-3. **Level 3**: Add reasoning\n-   - \"Read this article, identify the main findings, then summarize in 3 bullet points\"\n-\n-4. **Level 4**: Add examples\n-   - Include 2-3 example summaries with input-output pairs\n-\n-### Instruction Hierarchy\n-```\n-[System Context] \u2192 [Task Instruction] \u2192 [Examples] \u2192 [Input Data] \u2192 [Output Format]\n-```\n-\n-### Error Recovery\n-Build prompts that gracefully handle failures:\n-- Include fallback instructions\n-- Request confidence scores\n-- Ask for alternative interpretations when uncertain\n-- Specify how to indicate missing information\n-\n-## Best Practices\n-\n-1. **Be Specific**: Vague prompts produce inconsistent results\n-2. **Show, Don't Tell**: Examples are more effective than descriptions\n-3. **Test Extensively**: Evaluate on diverse, representative inputs\n-4. **Iterate Rapidly**: Small changes can have large impacts\n-5. **Monitor Performance**: Track metrics in production\n-6. **Version Control**: Treat prompts as code with proper versioning\n-7. **Document Intent**: Explain why prompts are structured as they are\n-\n-## Common Pitfalls\n-\n-- **Over-engineering**: Starting with complex prompts before trying simple ones\n-- **Example pollution**: Using examples that don't match the target task\n-- **Context overflow**: Exceeding token limits with excessive examples\n-- **Ambiguous instructions**: Leaving room for multiple interpretations\n-- **Ignoring edge cases**: Not testing on unusual or boundary inputs\n-\n-## Integration Patterns\n-\n-### With RAG Systems\n-```python\n-# Combine retrieved context with prompt engineering\n-prompt = f\"\"\"Given the following context:\n-{retrieved_context}\n-\n-{few_shot_examples}\n-\n-Question: {user_question}\n-\n-Provide a detailed answer based solely on the context above. If the context doesn't contain enough information, explicitly state what's missing.\"\"\"\n-```\n-\n-### With Validation\n-```python\n-# Add self-verification step\n-prompt \n\n... [truncated - diff too long]",
  "existing_docs": [
    "docs/architecture.md",
    "docs/analysis-persistent-memory-for-harnesses.md",
    "docs/index.md",
    "docs/memory-integration-analysis.md",
    "docs/philosophy.md",
    "docs/audiobook-the-amnesiac-architect.md",
    "README.md",
    ".claude/MEMORIES.md"
  ],
  "instructions": "\nDOCUMENTATION UPDATE TASK\n\nA commit was just made in an repair/build session. Your job is to:\n\n1. Analyze the diff to understand what changed\n2. Determine which documentation files need updating\n3. Update the relevant docs to reflect the changes\n\nCOMMIT MESSAGE:\nfeat(skill): replace prompt-engineering-patterns with context engineering skill\n\nReplace 2,680-line / 9-file textbook-style prompt engineering skill with\na 165-line context engineering skill. Based on /heavy analysis (5 Opus agents).\n\nWhat was deleted (8 files):\n- 5 reference files (CoT, few-shot, templates, system prompts, optimization)\n- 1 Python script (non-executable A/B testing with MockLLMClient)\n- 2 asset files (generic templates, trivial examples)\n\nWhat replaced it (1 file, 165 lines):\n- Four Buckets framework applied to prompt/skill design\n- The Deletion Test (4-question bloat elimination)\n- Operational checklist for writing skills and prompts\n- Anti-patterns table (8 specific patterns with wrong/right examples)\n- Compression patterns (tables over prose, constraints over guidance)\n- Context failure diagnosis (symptom -> bucket failure -> fix)\n- Multi-agent isolation patterns\n- Living references to exemplary skills (/go, /heavy, /compound)\n\nNet: 168 insertions, 2,678 deletions. 96% token reduction.\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\n\nEXISTING DOCUMENTATION FILES:\n- docs/architecture.md\n- docs/analysis-persistent-memory-for-harnesses.md\n- docs/index.md\n- docs/memory-integration-analysis.md\n- docs/philosophy.md\n- docs/audiobook-the-amnesiac-architect.md\n- README.md\n- .claude/MEMORIES.md\n\nDIFF CONTENT:\ncommit fb5cf5796d31a108accb09586170d964155e52dd\nAuthor: olivier-motium <243932812+olivier-motium@users.noreply.github.com>\nDate:   Sat Jan 31 11:32:01 2026 +0100\n\n    feat(skill): replace prompt-engineering-patterns with context engineering skill\n    \n    Replace 2,680-line / 9-file textbook-style prompt engineering skill with\n    a 165-line context engineering skill. Based on /heavy analysis (5 Opus agents).\n    \n    What was deleted (8 files):\n    - 5 reference files (CoT, few-shot, templates, system prompts, optimization)\n    - 1 Python script (non-executable A/B testing with MockLLMClient)\n    - 2 asset files (generic templates, trivial examples)\n    \n    What replaced it (1 file, 165 lines):\n    - Four Buckets framework applied to prompt/skill design\n    - The Deletion Test (4-question bloat elimination)\n    - Operational checklist for writing skills and prompts\n    - Anti-patterns table (8 specific patterns with wrong/right examples)\n    - Compression patterns (tables over prose, constraints over guidance)\n    - Context failure diagnosis (symptom -> bucket failure -> fix)\n    - Multi-agent isolation patterns\n    - Living references to exemplary skills (/go, /heavy, /compound)\n    \n    Net: 168 insertions, 2,678 deletions. 96% token reduction.\n    \n    Co-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\n---\n config/skills/prompt-engineering-patterns/SKILL.md | 358 +++++++---------\n .../assets/few-shot-examples.json                  | 106 -----\n .../assets/prompt-template-library.md              | 246 -----------\n .../references/chain-of-thought.md                 | 399 -----------------\n .../references/few-shot-learning.md                | 369 ----------------\n .../references/prompt-optimization.md              | 414 ------------------\n .../references/prompt-templates.md                 | 470 ---------------------\n .../references/system-prompts.md                   | 189 ---------\n .../scripts/optimize-prompt.py                     | 279 ------------\n docs/concepts/skills.md                            |  14 +-\n docs/index.md                                      |   2 +-\n 11 files changed, 168 insertions(+), 2678 deletions(-)\n\ndiff --git a/config/skills/prompt-engineering-patterns/SKILL.md b/config/skills/prompt-engineering-patterns/SKILL.md\nindex cf81eb1..e5d513e 100644\n--- a/config/skills/prompt-engineering-patterns/SKILL.md\n+++ b/config/skills/prompt-engineering-patterns/SKILL.md\n@@ -1,201 +1,165 @@\n ---\n name: prompt-engineering-patterns\n-description: Master advanced prompt engineering techniques to maximize LLM performance, reliability, and controllability in production. Use when optimizing prompts, improving LLM outputs, or designing production prompt templates.\n+description: Design prompts, skills, and CLAUDE.md files as context engineering problems. Use when writing skills, optimizing prompts, designing agent workflows, auditing CLAUDE.md, or reducing prompt bloat. Triggers on \"prompt engineering\", \"optimize prompt\", \"write a skill\", \"reduce bloat\", \"context engineering\".\n ---\n \n-# Prompt Engineering Patterns\n-\n-Master advanced prompt engineering techniques to maximize LLM performance, reliability, and controllability.\n-\n-## When to Use This Skill\n-\n-- Designing complex prompts for production LLM applications\n-- Optimizing prompt performance and consistency\n-- Implementing structured reasoning patterns (chain-of-thought, tree-of-thought)\n-- Building few-shot learning systems with dynamic example selection\n-- Creating reusable prompt templates with variable interpolation\n-- Debugging and refining prompts that produce inconsistent outputs\n-- Implementing system prompts for specialized AI assistants\n-\n-## Core Capabilities\n-\n-### 1. Few-Shot Learning\n-- Example selection strategies (semantic similarity, diversity sampling)\n-- Balancing example count with context window constraints\n-- Constructing effective demonstrations with input-output pairs\n-- Dynamic example retrieval from knowledge bases\n-- Handling edge cases through strategic example selection\n-\n-### 2. Chain-of-Thought Prompting\n-- Step-by-step reasoning elicitation\n-- Zero-shot CoT with \"Let's think step by step\"\n-- Few-shot CoT with reasoning traces\n-- Self-consistency techniques (sampling multiple reasoning paths)\n-- Verification and validation steps\n-\n-### 3. Prompt Optimization\n-- Iterative refinement workflows\n-- A/B testing prompt variations\n-- Measuring prompt performance metrics (accuracy, consistency, latency)\n-- Reducing token usage while maintaining quality\n-- Handling edge cases and failure modes\n-\n-### 4. Template Systems\n-- Variable interpolation and formatting\n-- Conditional prompt sections\n-- Multi-turn conversation templates\n-- Role-based prompt composition\n-- Modular prompt components\n-\n-### 5. System Prompt Design\n-- Setting model behavior and constraints\n-- Defining output formats and structure\n-- Establishing role and expertise\n-- Safety guidelines and content policies\n-- Context setting and background information\n-\n-## Quick Start\n-\n-```python\n-from prompt_optimizer import PromptTemplate, FewShotSelector\n-\n-# Define a structured prompt template\n-template = PromptTemplate(\n-    system=\"You are an expert SQL developer. Generate efficient, secure SQL queries.\",\n-    instruction=\"Convert the following natural language query to SQL:\\n{query}\",\n-    few_shot_examples=True,\n-    output_format=\"SQL code block with explanatory comments\"\n-)\n-\n-# Configure few-shot learning\n-selector = FewShotSelector(\n-    examples_db=\"sql_examples.jsonl\",\n-    selection_strategy=\"semantic_similarity\",\n-    max_examples=3\n-)\n-\n-# Generate optimized prompt\n-prompt = template.render(\n-    query=\"Find all users who registered in the last 30 days\",\n-    examples=selector.select(query=\"user registration date filter\")\n-)\n-```\n-\n-## Key Patterns\n-\n-### Progressive Disclosure\n-Start with simple prompts, add complexity only when needed:\n-\n-1. **Level 1**: Direct instruction\n-   - \"Summarize this article\"\n-\n-2. **Level 2**: Add constraints\n-   - \"Summarize this article in 3 bullet points, focusing on key findings\"\n-\n-3. **Level 3**: Add reasoning\n-   - \"Read this article, identify the main findings, then summarize in 3 bullet points\"\n-\n-4. **Level 4**: Add examples\n-   - Include 2-3 example summaries with input-output pairs\n-\n-### Instruction Hierarchy\n-```\n-[System Context] \u2192 [Task Instruction] \u2192 [Examples] \u2192 [Input Data] \u2192 [Output Format]\n-```\n-\n-### Error Recovery\n-Build prompts that gracefully handle failures:\n-- Include fallback instructions\n-- Request confidence scores\n-- Ask for alternative interpretations when uncertain\n-- Specify how to indicate missing information\n-\n-## Best Practices\n-\n-1. **Be Specific**: Vague prompts produce inconsistent results\n-2. **Show, Don't Tell**: Examples are more effective than descriptions\n-3. **Test Extensively**: Evaluate on diverse, representative inputs\n-4. **Iterate Rapidly**: Small changes can have large impacts\n-5. **Monitor Performance**: Track metrics in production\n-6. **Version Control**: Treat prompts as code with proper versioning\n-7. **Document Intent**: Explain why prompts are structured as they are\n-\n-## Common Pitfalls\n-\n-- **Over-engineering**: Starting with complex prompts before trying simple ones\n-- **Example pollution**: Using examples that don't match the target task\n-- **Context overflow**: Exceeding token limits with excessive examples\n-- **Ambiguous instructions**: Leaving room for multiple interpretations\n-- **Ignoring edge cases**: Not testing on unusual or boundary inputs\n-\n-## Integration Patterns\n-\n-### With RAG Systems\n-```python\n-# Combine retrieved context with prompt engineering\n-prompt = f\"\"\"Given the following context:\n-{retrieved_context}\n-\n-{few_shot_examples}\n-\n-Question: {user_question}\n-\n-Provide a detailed answer based solely on the context above. If the context doesn't contain enough information, explicitly state what's missing.\"\"\"\n-```\n-\n-### With Validation\n-```python\n-# Add self-verification step\n-prompt \n\n... [truncated - diff too long]\n\nINSTRUCTIONS:\n- Only update docs that are actually affected by this change\n- Keep updates concise and accurate\n- Don't add unnecessary documentation\n- If the change is purely code (no architectural/API changes), you may skip doc updates\n- Focus on: API changes, new features, architectural decisions, configuration changes\n\nUse the /heavy skill if you need multiple perspectives on what to document.\n"
}